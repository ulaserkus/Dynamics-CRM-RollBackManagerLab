@page
@model RollBackManagerLab.Web.Pages.Admin.SignInModel
@{
    ViewData["Title"] = "Sign In RollBackManagerLab";
    ViewData["Description"] = "RollBackManagerLab Sign In Page";
}
<main class="form-signin w-100 m-auto text-white">
    <div class="col-md-6 mx-auto my-5">

        @if (!Model.ModelState.IsValid && Model.ModelState[ErrorMessageContants.Key] != null && Model.ModelState[ErrorMessageContants.Key]?.Errors.Count > 0)
        {
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                <ul>
                    @foreach (var error in Model.ModelState[ErrorMessageContants.Key].Errors)
                    {
                        <li>@error.ErrorMessage</li>
                    }
                </ul>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        }

        <form enctype="application/x-www-form-urlencoded" asp-antiforgery="true">
            <h2 class="h3 mb-3 fw-normal">Welcome, Please Sign In RollBackManagerLab</h2>
            <div class="form-floating my-2">
                <input required type="email" name="LoginApiDto.EmailAddress" class="form-control" id="floatingInput" placeholder="name@example.com">
                <label class="text-black" for="floatingInput">Email address</label>
            </div>
            <div class="form-floating my-2">
                <input required type="password" name="LoginApiDto.Password" class="form-control" id="floatingPassword" placeholder="Password">
                <label class="text-black" for="floatingPassword">Password</label>
            </div>
            <div class="input-group form-floating my-2">
                <img id="captchaImage" src="~/captcha/@Model.Captcha.Image" alt="CAPTCHA Image">
                <input required type="text" name="EnteredCaptcha" class="form-control" id="captchaInput" placeholder="Enter CAPTCHA">
            </div>
            <input type="hidden" name="Captcha.Text" value="@Model.Captcha.Text" />
            <input type="hidden" name="Captcha.Image" value="@Model.Captcha.Image" />
            <button class="btn btn-outline-light w-100 py-2" type="submit">Sign in</button>
        </form>
    </div>
</main>

